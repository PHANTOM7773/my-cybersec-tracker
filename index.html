<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C Protocol Tracker</title>
    
    <!-- 1. TAILWIND CSS (With Preflight Disabled for Blogger) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            corePlugins: {
                preflight: false, // IMP: Disables global reset so it doesn't break your Blogger theme
            }
        }
    </script>

    <!-- 2. REACT & BABEL -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 3. CUSTOM STYLES (Scoped to tracker only) -->
    <style>
        /* Only style the root container, not the body, to be safe for Blogger */
        #root {
            background-color: #0a0a0a;
            color: #4ade80;
            font-family: monospace;
            min-height: 100vh; /* Or use min-h-[600px] if embedding in a small area */
            border-radius: 8px; /* Nice rounded corners for blog post */
            padding: 1rem;
        }
        
        /* Custom scrollbar for cyber feel (Scoped) */
        #root ::-webkit-scrollbar { width: 8px; }
        #root ::-webkit-scrollbar-track { background: #0a0a0a; }
        #root ::-webkit-scrollbar-thumb { background: #15803d; border-radius: 4px; }
        #root ::-webkit-scrollbar-thumb:hover { background: #22c55e; }
        
        /* Ensure cursor pointer works on labels */
        label { cursor: pointer; }
    </style>
</head>
<body style="margin: 0; background-color: #222;"> <!-- Background only for standalone preview -->

    <!-- 4. APP CONTAINER -->
    <div id="root"></div>

    <!-- 5. REACT LOGIC -->
    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS (Embedded SVGs to avoid dependencies) ---
        const Icon = ({ name, className }) => {
            const icons = {
                terminal: <path d="m4 17 6-6-6-6M12 19h8"/>,
                cpu: <path d="M13.5 2H19v5.5M5.5 2H2v5.5M2 18.5V22h5.5M18.5 22H22v-3.5M9 9h6v6H9z" strokeLinejoin="round"/>,
                brain: <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/>,
                shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>,
                save: <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2zM17 21v-8H7v8M7 3v5h8V3"/>,
                trash: <path d="M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>,
                skull: <g><circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/><path d="M8 20v2h8v-2"/><path d="m12.5 17-.5-1-.5 1h1z"/><path d="M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20"/></g>,
                chevronDown: <path d="m6 9 6 6 6-6"/>,
                chevronUp: <path d="m18 15-6-6-6 6"/>,
                video: <g><path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/></g>,
                link: <g><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></g>,
                book: <g><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></g>,
                check: <polyline points="20 6 9 17 4 12"/>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || <circle cx="12" cy="12" r="10"/>}
                </svg>
            );
        };

        // --- MAIN APP ---
        const CyberTracker = () => {
            const [progress, setProgress] = useState({});
            const [expandedModules, setExpandedModules] = useState({ 1: true });

            // CURRICULUM DATA
            const curriculum = [
                {
                    id: 1,
                    title: "Days 1-3: The Foundation",
                    duration: "3 Days",
                    icon: "terminal",
                    focus: "Basics, Loops, Functions",
                    items: [
                        { id: 'd1_learn', text: "Day 1 Learn: Compiler, int, char, float, printf, scanf", tag: "Day 1" },
                        { id: 'd1_code', text: "Day 1 Code: Hello World, Sum of 2 nums, Print ASCII", tag: "Practice" },
                        { id: 'd2_learn', text: "Day 2 Learn: if/else, switch, for/while loops", tag: "Day 2" },
                        { id: 'd2_code', text: "Day 2 Code: Even/Odd, Largest of 3, Loop 1-100", tag: "Practice" },
                        { id: 'd3_learn', text: "Day 3 Learn: Functions & Call by Value", tag: "Day 3" },
                        { id: 'd3_code', text: "Day 3 Code: Add function, Prime number checker", tag: "Practice" }
                    ],
                    resources: [
                        { title: "CS50 Lecture 1 (C Part)", url: "https://www.youtube.com/results?search_query=cs50+week+1+c", type: "Video", note: "Watch only the C syntax part." },
                        { title: "Neso Academy: C Intro", url: "https://www.youtube.com/results?search_query=neso+academy+c+introduction", type: "Video", note: "Great for understanding flow." }
                    ]
                },
                {
                    id: 2,
                    title: "Days 4-5: Arrays & Strings",
                    duration: "2 Days",
                    icon: "cpu",
                    focus: "Buffer Overflows Starts Here",
                    items: [
                        { id: 'd4_learn', text: "Day 4 Learn: 1D Arrays & Memory Layout", tag: "Day 4" },
                        { id: 'd4_code', text: "Day 4 Code: Find max in array, Reverse array", tag: "Practice" },
                        { id: 'd5_learn', text: "Day 5 Learn: Strings (char[]), \\0, strlen/strcpy", tag: "Day 5" },
                        { id: 'd5_code', text: "Day 5 Code: Manual string length (no strlen)", tag: "Logic" },
                        { id: 'd5_sec', text: "Day 5 Security: Demo Buffer Overflow (Crash it)", tag: "Exploit" }
                    ],
                    resources: [
                        { title: "Neso Academy: Arrays", url: "https://www.youtube.com/results?search_query=neso+academy+arrays+in+c", type: "Video", note: "Visualize how strings are just arrays." },
                        { title: "Computerphile: Buffer Overflow", url: "https://www.youtube.com/results?search_query=computerphile+buffer+overflow", type: "Concept", note: "Understand why 'strcpy' is dangerous." }
                    ]
                },
                {
                    id: 3,
                    title: "Days 6-8: Pointers (The Core)",
                    duration: "3 Days",
                    icon: "brain",
                    focus: "Memory Addressing (Critical)",
                    items: [
                        { id: 'd6_learn', text: "Day 6 Learn: Pointer basics (& and *)", tag: "Day 6" },
                        { id: 'd6_code', text: "Day 6 Code: Print address, Modify value via ptr", tag: "Practice" },
                        { id: 'd7_learn', text: "Day 7 Learn: Pointer Arithmetic & Arrays as Pointers", tag: "Day 7" },
                        { id: 'd7_code', text: "Day 7 Code: Traverse array using pointers", tag: "Practice" },
                        { id: 'd8_learn', text: "Day 8 Learn: Call by Reference (Modifying args)", tag: "Day 8" },
                        { id: 'd8_code', text: "Day 8 Code: Swap 2 nums (ptr), Modify array in func", tag: "Practice" }
                    ],
                    resources: [
                        { title: "CS50 Pointers Section", url: "https://www.youtube.com/results?search_query=cs50+pointers", type: "Video", note: "Best visualization of memory addresses." },
                        { title: "Neso Academy: Pointers Playlist", url: "https://www.youtube.com/playlist?list=PLBlnK6fEyqRggZZgYpPMUxdY1CYkZtARR", type: "Video", note: "Watch videos 1-5 in order." }
                    ]
                },
                {
                    id: 4,
                    title: "Days 9-10: Memory Management",
                    duration: "2 Days",
                    icon: "shield",
                    focus: "Heap, Stack, & Leaks",
                    items: [
                        { id: 'd9_learn', text: "Day 9 Learn: malloc, free, Stack vs Heap", tag: "Day 9" },
                        { id: 'd9_code', text: "Day 9 Code: Dynamic Array (malloc) & Free it", tag: "Practice" },
                        { id: 'd10_learn', text: "Day 10 Learn: Memory Leaks & Use-After-Free", tag: "Day 10" },
                        { id: 'd10_code', text: "Day 10 Code: Write a leak, then fix it", tag: "Debug" }
                    ],
                    resources: [
                        { title: "CS50 Memory Section", url: "https://www.youtube.com/results?search_query=cs50+memory", type: "Video", note: "Understand dynamic allocation." },
                        { title: "Neso Academy: Dynamic Memory", url: "https://www.youtube.com/results?search_query=neso+academy+dynamic+memory+allocation", type: "Video", note: "Deep dive into malloc/calloc." }
                    ]
                },
                {
                    id: 5,
                    title: "Days 11-12: Structs & Files",
                    duration: "2 Days",
                    icon: "save",
                    focus: "Data Structures & I/O",
                    items: [
                        { id: 'd11_learn', text: "Day 11 Learn: struct & Nested Structures", tag: "Day 11" },
                        { id: 'd11_code', text: "Day 11 Code: Student struct, Array of structs", tag: "Practice" },
                        { id: 'd12_learn', text: "Day 12 Learn: File I/O (fopen, fgets, fwrite)", tag: "Day 12" },
                        { id: 'd12_code', text: "Day 12 Code: Write to file, Read from file", tag: "Practice" }
                    ],
                    resources: [
                        { title: "Neso Academy: Structures", url: "https://www.youtube.com/results?search_query=neso+academy+structures+in+c", type: "Video", note: "Learn to group data." },
                        { title: "C File Handling Tutorial", url: "https://www.geeksforgeeks.org/basics-of-file-handling-in-c-programming/", type: "Docs", note: "Focus on reading/writing text files." }
                    ]
                },
                {
                    id: 6,
                    title: "Days 13-15: Security & Final Exam",
                    duration: "3 Days",
                    icon: "shield",
                    focus: "Apply Knowledge & Exit C",
                    items: [
                        { id: 'd13_code', text: "Day 13: Vulnerable vs Secure Input Demo", tag: "Security" },
                        { id: 'd13_think', text: "Day 13: Pointer Misuse Demo (Safe crash)", tag: "Security" },
                        { id: 'd14_rev', text: "Day 14: Revision (Re-write Day 6-10 codes)", tag: "Revision" },
                        { id: 'd15_test1', text: "FINAL TEST: Explain Stack vs Heap", tag: "Exam" },
                        { id: 'd15_test2', text: "FINAL TEST: Program with malloc + free", tag: "Exam" },
                        { id: 'd15_test3', text: "FINAL TEST: Explain Buffer Overflow", tag: "Exam" },
                        { id: 'd15_test4', text: "FINAL TEST: Swap nums with Pointers", tag: "Exam" },
                        { id: 'd15_done', text: "EXIT CONDITION: C Completed. Switch to Python.", tag: "DONE" }
      ],
      resources: [
        { title: "Pwn.college (Optional)", url: "https://pwn.college/", type: "Advanced", note: "Only if you want deeper exploitation practice." }
      ]
                }
            ];

            // --- LocalStorage Logic (Same as GitHub repo mechanism) ---
            useEffect(() => {
                try {
                    const saved = localStorage.getItem('cyber-c-tracker-v3');
                    if (saved) setProgress(JSON.parse(saved));
                } catch (e) {
                    console.error("Storage access failed:", e);
                }
            }, []);

            useEffect(() => {
                try {
                    localStorage.setItem('cyber-c-tracker-v3', JSON.stringify(progress));
                } catch (e) {
                    console.error("Storage save failed:", e);
                }
            }, [progress]);

            // Fix for click responsiveness
            const toggleItem = (id) => {
                setProgress(prev => {
                    const newState = { ...prev, [id]: !prev[id] };
                    return newState;
                });
            };

            const toggleModule = (id) => setExpandedModules(prev => ({ ...prev, [id]: !prev[id] }));
            const resetProgress = () => {
                if (window.confirm("Are you sure you want to reset all progress?")) {
                    setProgress({});
                    localStorage.removeItem('cyber-c-tracker-v3');
                }
            };

            const calculateTotalProgress = () => {
                const totalItems = curriculum.reduce((acc, module) => acc + module.items.length, 0);
                const completedItems = Object.values(progress).filter(Boolean).length;
                return Math.round((completedItems / totalItems) * 100);
            };

            const currentPercent = calculateTotalProgress();

            return (
                <div className="bg-neutral-950 text-green-400 p-4 md:p-8 selection:bg-green-900 selection:text-white min-h-full">
                    <div className="max-w-3xl mx-auto space-y-8">
                        {/* HEADER */}
                        <header className="border-b border-green-800 pb-6">
                            <div className="flex justify-between items-start">
                                <div>
                                    <h1 className="text-2xl md:text-4xl font-bold tracking-tighter text-white mb-2">
                                        15-DAY C <span className="text-green-500">CRASH PLAN</span>
                                    </h1>
                                    <p className="text-neutral-400 text-sm md:text-base">
                                        Protocol: Low-Level Understanding. No Competitive Coding.
                                    </p>
                                </div>
                                <div className="text-right hidden md:block">
                                    <div className="text-xs text-neutral-500 uppercase tracking-widest mb-1">Status</div>
                                    <div className="text-xl font-bold text-white">{currentPercent}% BREACHED</div>
                                </div>
                            </div>
                            
                            {/* PROGRESS BAR */}
                            <div className="mt-6 h-2 bg-neutral-900 rounded-full overflow-hidden border border-neutral-800">
                                <div className="h-full bg-green-500 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(34,197,94,0.5)]"
                                     style={{ width: `${currentPercent}%` }} />
                            </div>
                            
                            <div className="mt-4 flex flex-wrap gap-2 text-xs">
                                <span className="bg-neutral-900 text-neutral-300 px-3 py-1 rounded border border-neutral-800">Time: 1-1.5 Hrs/Day</span>
                                <span className="bg-green-900/30 text-green-300 px-3 py-1 rounded border border-green-800/50">Resources: 100% Free</span>
                            </div>
                        </header>

                        {/* MODULES */}
                        <div className="space-y-6">
                            {curriculum.map((module) => (
                                <div key={module.id} className="bg-neutral-900/50 border border-neutral-800 rounded-lg overflow-hidden transition-all hover:border-neutral-700">
                                    <button onClick={() => toggleModule(module.id)} className="w-full flex items-center justify-between p-4 bg-neutral-900 border-b border-neutral-800 hover:bg-neutral-800/80 transition-colors text-left cursor-pointer">
                                        <div className="flex items-center gap-3">
                                            <div className={`p-2 rounded bg-neutral-950 border border-neutral-800 ${expandedModules[module.id] ? 'text-green-400' : 'text-neutral-500'}`}>
                                                <Icon name={module.icon} className="w-5 h-5" />
                                            </div>
                                            <div>
                                                <h3 className="text-lg font-bold text-neutral-200">{module.title}</h3>
                                                <div className="text-xs text-neutral-500 flex items-center gap-2 mt-1">
                                                    <span>‚è± {module.duration}</span>
                                                    <span className="w-1 h-1 bg-neutral-600 rounded-full"></span>
                                                    <span className="text-green-700 font-semibold uppercase">{module.focus}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <Icon name={expandedModules[module.id] ? "chevronUp" : "chevronDown"} className="w-5 h-5 text-neutral-500" />
                                    </button>

                                    {expandedModules[module.id] && (
                                        <div className="p-4 space-y-6">
                                            <div className="space-y-2">
                                                {module.items.map((item) => (
                                                    <label key={item.id} className={`flex items-start gap-3 p-3 rounded cursor-pointer transition-all group ${progress[item.id] ? 'bg-green-900/10 border border-green-900/30' : 'hover:bg-neutral-800 border border-transparent hover:border-neutral-700'}`}>
                                                        <div className="relative flex items-center mt-0.5 z-10">
                                                            <input 
                                                                type="checkbox" 
                                                                checked={progress[item.id] || false} 
                                                                onChange={() => toggleItem(item.id)} 
                                                                className="peer appearance-none w-5 h-5 border-2 border-neutral-600 rounded bg-neutral-950 checked:bg-green-400 checked:border-green-400 transition-colors cursor-pointer" 
                                                            />
                                                            <Icon name="check" className="absolute w-3.5 h-3.5 text-black pointer-events-none opacity-0 peer-checked:opacity-100 left-[3px] top-[3px] transition-opacity duration-200" />
                                                        </div>
                                                        <div className="flex-1">
                                                            <div className={`text-sm md:text-base select-none ${progress[item.id] ? 'text-neutral-400 line-through' : 'text-neutral-200'}`}>{item.text}</div>
                                                        </div>
                                                        <span className={`text-[10px] uppercase tracking-wider px-2 py-0.5 rounded border ${progress[item.id] ? 'border-green-900/30 text-green-800' : 'border-neutral-700 text-neutral-500 group-hover:border-neutral-600'}`}>{item.tag}</span>
                                                    </label>
                                                ))}
                                            </div>
                                            <div className="mt-4 pt-4 border-t border-neutral-800">
                                                <div className="flex items-center gap-2 mb-3 text-neutral-400 text-xs uppercase tracking-widest font-semibold">
                                                    <Icon name="book" className="w-4 h-4 text-green-600" /> Intel (Direct Links)
                                                </div>
                                                <div className="grid gap-2">
                                                    {module.resources.map((res, idx) => (
                                                        <a key={idx} href={res.url} target="_blank" rel="noopener noreferrer" className="flex flex-col md:flex-row md:items-center gap-1 md:gap-3 bg-neutral-950/50 p-2.5 rounded border border-neutral-800/50 hover:border-green-800/50 hover:bg-neutral-900 transition-all group/link">
                                                            <div className="flex items-center gap-2 min-w-fit group-hover/link:text-green-400 transition-colors">
                                                                <Icon name={res.type === 'Video' ? 'video' : 'link'} className="w-3.5 h-3.5 text-blue-400" />
                                                                <span className="text-neutral-300 text-sm font-medium underline decoration-neutral-700 underline-offset-4 group-hover/link:decoration-green-500">{res.title}</span>
                                                            </div>
                                                            <div className="text-xs text-neutral-500 md:border-l md:border-neutral-800 md:pl-3 italic">"{res.note}"</div>
                                                        </a>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>

                        {/* RESTRICTED ZONE */}
                        <div className="border border-red-900/30 bg-red-950/5 rounded-lg p-6">
                            <div className="flex items-center gap-2 mb-4 text-red-400">
                                <Icon name="skull" className="w-5 h-5" />
                                <h3 className="font-bold uppercase tracking-wider">Restricted Zone (Do Not Learn)</h3>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                {["DSA / Linked Lists", "Competitive Coding", "Graphics / GUI", "Networking (Socket)"].map((bad, idx) => (
                                    <div key={idx} className="flex items-center gap-2 text-neutral-500 text-sm line-through decoration-red-900/50">
                                        <div className="w-1.5 h-1.5 rounded-full bg-red-900/50"></div>
                                        {bad}
                                    </div>
                                ))}
                            </div>
                            <p className="mt-4 text-xs text-red-500/60 italic">*Attempting these will result in career latency. Stay focused on Python for builds.</p>
                        </div>

                        {/* FOOTER */}
                        <div className="flex justify-between items-center pt-8 border-t border-neutral-800 text-neutral-600 text-sm">
                            <div>System: <span className="text-neutral-400">Ready</span></div>
                            <button onClick={resetProgress} className="flex items-center gap-2 hover:text-red-400 transition-colors">
                                <Icon name="trash" className="w-4 h-4" /> Reset Data
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CyberTracker />);
    </script>
</body>
</html>
